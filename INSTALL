1. module load intel cmake
2. source load_env_var_amanziats
3. source configure-fates
4. make
5. make install
6. git clone https://github.com/amanzi/amanzi.git $AMANZI_SRC
7. cd $AMANZI_SRC
8. git checkout ats-fates.0
9. git submodule update --init --remote
10. cd src/physics/ats/
11. git checkout dsv/sediment
12. cd $AMANZI_BUILD
13. source config-amanzi-ats-fates

config-amanzi-ats-fates:

#!/bin/tcsh                                                                                                                                                                                        


set name=amanzi_ats_fates_openmpi
set build=build_${name}
set install=${name}

rm -rf ${build}
mkdir ${build}
cd ${build}



cmake \
        -C {$TPLS_DIR}/share/cmake/amanzi-tpl-config.cmake \
    -D CMAKE_BUILD_TYPE="Debug"\
    -D CMAKE_C_COMPILER=${CC} \
    -D CMAKE_CXX_COMPILER=${CXX} \
    -D CMAKE_Fortran_COMPILER=${FC} \
    -D ENABLE_Unstructured:BOOL=TRUE \
    -D ENABLE_Structured:BOOL=FALSE \
    -D ENABLE_NATIVE_XML_OUTPUT:BOOL=TRUE\
    -D ENABLE_ALQUIMIA:BOOL=FALSE\
    -D ENABLE_FATES:BOOL=TRUE\
    -D ENABLE_AmanziPhysicsModule:BOOL=FALSE\
    -D ENABLE_ATSPhysicsModule:BOOL=TRUE\
    -D ENABLE_INDIVIDUAL_TESTS:BOOL=FALSE\
    -D ENABLE_Regression_Tests:BOOL=FALSE\
    -D CMAKE_INSTALL_PREFIX=${AMANZI_INSTALL}/{$install} \
        ${AMANZI_SRC}

make -j 8
make install

